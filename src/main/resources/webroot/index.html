<!DOCTYPE html>
<html class="no-js" xmlns="http://www.w3.org/1999/html" lang="">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <!--<base href="/">-->
    <base href="."/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <title>Home | Business RecSys</title>
    <meta name="description" content=""/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="theme-color" content="#ffffff"/>
    <link type="text/plain" rel="author"/>
    <link href="./css/style.css" rel="stylesheet"/>
    <link rel="shortcut icon" href="resources/favicon2.ico">
    <script src="./js/jquery-3.2.1.min.js"></script>
    <script src="./js/recsys.js?v=1.19"></script>

    <style>



    </style>
</head>
<body>
<div>
    <!-- 顶部导航栏 -->
    <nav class="top-nav">
        <div class="nav-item">
            <a href="#" onclick="event.preventDefault(); show_firstpage()" color="white">首页</a>
        </div>

        <div class="nav-item">
            电子产品
            <div class="dropdown-menu">
                <a href="#" onclick="event.preventDefault(); show('外设产品');show('存储设备');show('家用电器');show('手机通讯')">全部</a>
                <a href="#" onclick="event.preventDefault(); show('外设产品')">外设产品</a>
                <a href="#" onclick="event.preventDefault(); show('存储设备')">存储设备</a>
                <a href="#" onclick="event.preventDefault(); show('家用电器')">家用电器</a>
                <a href="#" onclick="event.preventDefault(); show('手机通讯')">手机通讯</a>
            </div>
        </div>

        <div class="nav-item">
            美妆个护
            <div class="dropdown-menu">
                <a href="#" onclick="event.preventDefault(); show('彩妆');show('面部护理');show('身体护理')">全部</a>
                <a href="#" onclick="event.preventDefault(); show('彩妆')">彩妆</a>
                <a href="#" onclick="event.preventDefault(); show('面部护理')">面部护理</a>
                <a href="#" onclick="event.preventDefault(); show('身体护理')">身体护理</a>
            </div>
        </div>

        <div class="nav-item">
            图书音像
            <div class="dropdown-menu">
                <a href="#" onclick="event.preventDefault(); show('青春文学');show('经管类图书');show('政治/军事');show('旅游/地图');show('育儿/早教');show('哲学/宗教');show('文学艺术');show('少儿/教育图书')">全部</a>
                <a href="#" onclick="event.preventDefault(); show('青春文学')">青春文学</a>
                <a href="#" onclick="event.preventDefault(); show('经管类图书')">经管类图书</a>
                <a href="#" onclick="event.preventDefault(); show('政治/军事')">政治/军事</a>
                <a href="#" onclick="event.preventDefault(); show('旅游/地图')">旅游/地图</a>
                <a href="#" onclick="event.preventDefault(); show('育儿/早教')">育儿/早教</a>
                <a href="#" onclick="event.preventDefault(); show('哲学/宗教')">哲学/宗教</a>
                <a href="#" onclick="event.preventDefault(); show('文学艺术')">文学艺术</a>
                <a href="#" onclick="event.preventDefault(); show('少儿/教育图书')">少儿/教育图书</a>
            </div>
        </div>

        <div class="nav-item">
            家居生活
            <div class="dropdown-menu">
                <a href="#" onclick="event.preventDefault(); show('杯具/水壶');show('保温杯/保温壶');show('收纳整理')">全部</a>
                <a href="#" onclick="event.preventDefault(); show('杯具/水壶')">杯具/水壶</a>
                <a href="#" onclick="event.preventDefault(); show('保温杯/保温壶')">保温杯/保温壶</a>
                <a href="#" onclick="event.preventDefault(); show('收纳整理')">收纳整理</a>
            </div>
        </div>

        <div class="nav-item">
            母婴/玩具
            <div class="dropdown-menu">
                <a href="#" onclick="event.preventDefault(); show('尿裤湿巾')">全部</a>
                <a href="#" onclick="event.preventDefault(); show('尿裤湿巾')">尿裤湿巾</a>
            </div>
        </div>

        <div class="nav-item">
            钟表/首饰/眼镜/礼品
            <div class="dropdown-menu">
                <a href="#" onclick="event.preventDefault(); show('钟表/首饰/眼镜/礼品')">全部</a>
                <a href="#" onclick="event.preventDefault(); show('钟表')">钟表</a>
            </div>
        </div>

        <div class="nav-item">
            工艺饰品
            <div class="dropdown-menu">
                <a href="#" onclick="event.preventDefault(); show('工艺饰品');show('家具/家装/建材')">全部</a>
                <a href="#" onclick="event.preventDefault(); show('家具/家装/建材')">家具/家装/建材</a>
            </div>
        </div>
        <div class="nav-item-2">
            <a href="./register.html" color="white" id = 'login-register-btn'>登录/注册</a>
        </div>
    </nav>


<!--    <div id="floating-window" class="floating-window">-->
<!--        <div class="floating-content">-->
<!--            <p>你被推荐了！</p>-->
<!--        </div>-->
<!--        <div id="buttons" class="buttons">-->
<!--            <div class="floating-button">-->
<!--                <button id="close-window">确认</button>-->
<!--            </div>-->
<!--            &lt;!&ndash; 关闭按钮 &ndash;&gt;-->
<!--            <div class="floating-close-button">-->
<!--                <button id="close-button">取消</button>-->
<!--            </div>-->
<!--        </div>-->

<!--    </div>-->
    <button class="rec-button" id="rec-button" onclick="go_rec()">为我推荐</button>
    <button class="home-button" id="home-button" onclick="go_home()">HOME</button>
    <button class="floating-button" onclick="scrollToTop()">↑</button>

    <div class="frontpage-description">
        <h1>Welcome to Business RecSys</h1>
    </div>

    <!-- 其余页面内容 -->
    <div class="ml4-container" style="min-height: 920px;">
        <div id="main-container">
            <div class="frontpage" id="recPage">

            </div>
            <div class="frontpage" id="first">

            </div>
        </div>
    </div>
</div>



<script type="text/javascript">
    window.onload = function() {
        const loginRegisterButton = document.getElementById('login-register-btn');
        const state = sessionStorage.getItem('state');
        const username = sessionStorage.getItem('username');

        if (state === 'true' && username) {
            loginRegisterButton.textContent = username;
        } else {
            loginRegisterButton.textContent = '登录/注册';
        }
    };

    add_firstpage('#first');

    let currentIndex = 0;
    const slides = document.querySelectorAll('.carousel-slide');
    const totalSlides = 3;
    let isVisible = true;
    var getUrl = window.location;
    var baseUrl = getUrl.protocol + "//" + getUrl.host + "/"

    // $.getJSON('http://localhost:6010/adduser', function(result){
    //     console.log(result);
    //     sessionStorage.setItem('nowId',result.userId);
    //     console.log(sessionStorage.getItem('nowId'))
    // });

    document.getElementById('next').addEventListener('click', () => {
        currentIndex = (currentIndex + 1) % totalSlides;
        updateCarousel();
    });

    document.getElementById('prev').addEventListener('click', () => {
        currentIndex = (currentIndex - 1 + totalSlides) % totalSlides;
        updateCarousel();
    });
    carouselInterval = setInterval(() => {
        console.log( sessionStorage.getItem('x'));
        console.log( sessionStorage.getItem('nowId'));
        currentIndex = (currentIndex + 1) % totalSlides; // 循环播放幻灯片
        updateCarousel();
    }, 3000); // 每3秒切换一次幻灯片并打印x的值


    if(sessionStorage.getItem('x')===null)
    sessionStorage.setItem('x', 0); // 使用 sessionStorage
    else{
        checkAndShowPopup();
    }


    //var userId = "";

    // $.getJSON('http://localhost:6010/adduser', function(result){
    //     console.log(result);
    //     userId = sessionStorage.getItem('nowId');
    //     sessionStorage.setItem('nowId',result.userId);
    // });

    var clickedItems = [];
//http://localhost:6010/getuserscanlist?userId=1&size=5



</script>
</body>
</html>